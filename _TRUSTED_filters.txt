[uBlock Origin; Adguard]
! Title: [?][list] "trusted test" - by K-mik@Z
! Expires: 1 days
! Last modified: Sat, 22 Jun 2024 19:22:32 +0100
! Author: K-mik@Z
! Homepage: https://github.com/K-mikaZ/new_approach_adb__1st/blob/master/_TRUSTED_filters.txt
! Description: Test trusted rules like: trusted-replace-fetch-response, trusted-replace-xhr-response...

! ————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
! Invalid filter (in console) when loading as list, but works in personal filters.
! ————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
! https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-trusted-scriptlets.md

! ===============================================================
! "applications" filters
! ===============================================================
6play.fr##+js(trusted-replace-xhr-response, *, , "fwmrm.net method:/GET|POST|HEAD/")
6play.fr##+js(trusted-replace-fetch-response, *, , "fwmrm.net method:/GET|POST|HEAD/")
6play.fr,tf1.fr##+js(trusted-replace-fetch-response, tv.freewheel.SDK.Util.pingURLWithForm)
6play.fr,tf1.fr##+js(trusted-replace-fetch-response, tv.freewheel.SDK.Util.pingURLWithImage)
6play.fr,tf1.fr##+js(trusted-replace-fetch-response, tv.freewheel.SDK.Util.sendAdRequestWithXMLHTTPRequest)
6play.fr,tf1.fr##+js(trusted-replace-fetch-response, tv.freewheel.SDK.Util.pingURLWithXMLHTTPRequest)
6play.fr,tf1.fr##+js(trusted-replace-fetch-response, tv.freewheel.SDK.Util.pingURLWithScript)
animationdigitalnetwork.fr##+js(trusted-replace-xhr-response, /freeWithAds=(?:tru|fals)e\&adaptive=(?:tru|fals)e/, /freeWithAds=false\&adaptive=true/, /player/video/)
! CLICK banner cookies
cookiesearch.org##+js(trusted-click-element, button[data-cky-tag="reject-button"], , 200)
geo2.dailymotion.com#@#+js(set-constant, dmCookie3rdPartyAllowed, false)
geo2.dailymotion.com##+js(trusted-set-constant, dmCookie3rdPartyAllowed, false)
geo2.dailymotion.com##+js(trusted-set-constant, DMP_COOKIES_3RD_PARTY_AVAILABLE, false)
geo2.dailymotion.com##+js(trusted-set-constant, DMP_HAS_ADS, false)
geo2.dailymotion.com##+js(trusted-set-constant, DMP_RECOMMENDATIONS_OPTIMISATION, null)
geo2.dailymotion.com##+js(trusted-set-constant, __PLAYER_CONFIG__.player.hasAds, false)
geo2.dailymotion.com##+js(trusted-set-constant, __PLAYER_CONFIG__.player.recommendationsOptimisation, null)
megastream.*##+js(trusted-set-constant, console.clear, undefined)
open.spotify.com##+js(trusted-replace-fetch-response, "disallow_seeking":true, "disallow_seeking":false, track-playback)
! open.spotify.com##+js(trusted-replace-fetch-response, '/(\{"uri":"spotify:ad:.+?,"manifest"):.+?,"audio_id":/', '$1:{"file_urls_mp3":[{"bitrate":160000,"file_id":null,"file_url":"https://cdn.jsdelivr.net/gh/stephenhawk8054/external_resources@master/noop-0.1s.mp3","impression_urls":[""],"track_type":"AUDIO","format":null,"audio_quality":null,"hifi_status":null,"gain_db":null,"expires_at":null}]},"audio_id":', track-playback)
! [FIX] for allow play/pause on click player
streamta.pe,streamtape.*#@#.play-overlay
streamta.pe,streamtape.*##+js(trusted-click-element, .play-overlay)
tv.youtube.com##+js(trusted-replace-xhr-response, '"adPlacements"', '"no_ads"', /playlist\?list=|player\?key=|watch\?v=|youtubei\/v1\/player/)
! [FIX] for allow play/pause on click player
videzz.net#@#.prevent-first-click
videzz.net##+js(trusted-click-element, .prevent-first-click)
videzz.net##+js(trusted-set-constant, asgvastcnf_overlay.spotUrl, undefined)
www.allocine.fr##+js(trusted-click-element, #didomi-host button[onclick*="Agree"], , 100)
! CLICK banner cookies
www.velo-club.net##+js(trusted-click-element, button.cmplz-deny, , 500)

! 2024-01-24 Try fixing delay in the video player
!www.allocine.fr,www.adorocinema.com,www.beyazperde.com,www.filmstarts.de,www.sensacine.com##+js(trusted-set-constant, AC.config.ads, emptyObj)
! 2024-01-24 Tracking
!www.allocine.fr,www.adorocinema.com,www.beyazperde.com,www.filmstarts.de,www.sensacine.com##+js(trusted-set-constant, AC.config.player.gtm.active, false)
!www.allocine.fr,www.adorocinema.com,www.beyazperde.com,www.filmstarts.de,www.sensacine.com##+js(trusted-set-constant, AC.config.flags.brandHasStickyAds, false)
! 2024-01-24 Tracking (prevent loading script)
!www.allocine.fr,www.adorocinema.com,www.beyazperde.com,www.filmstarts.de,www.sensacine.com##+js(trusted-set-constant, AC.config.player.mediametrie.libUrl, undefined)
!www.allocine.fr,www.adorocinema.com,www.beyazperde.com,www.filmstarts.de,www.sensacine.com##+js(trusted-set-constant, AC.config.flags.brandHasPaywall, false)
!www.allocine.fr,www.adorocinema.com,www.beyazperde.com,www.filmstarts.de,www.sensacine.com##+js(trusted-set-constant, AC.config.flags.brandHasDmVastFallback, false)


! ===============================================================
! "net" filters
! ===============================================================
!#if cap_html_filtering

!#if env_firefox || ext_ublock || adguard_ext_firefox
! YouTube Detection, Ads & Breakages - https://www.reddit.com/r/uBlockOrigin/comments/1atwzem/comment/ks2v27a/
/base.js$replace=/(enabled_engage_types\}.+?;if\().+?&&(.+?\.isLivePlayback&&)/\$1true)\$2/,domain=m.youtube.com|music.youtube.com|www.youtube.com
! ¤¤¤ Request Modifier <https://regex101.com/r/DkEygK/11>, <https://vi.freewheel.tv/apc/samples>, <https://github.com/search?q=repo%3AAdguardTeam%2FAdguardFilters+tv%5C.freewheel%5C.SDK&type=code>
! FIX: for `adproxy.tf1.fr/web-tf1/ad/g/1?prof=*` because ending with `}[\r\n])` instead of `})` | adproxy.tf1.fr is `fwmrm.net tv.freewheel.SDK` for `prod-player.tf1.fr`
! found on: www.6play.fr => tv.freewheel.SDK._instanceQueue['Context_2']._videoAsset.requestComplete({});
! found on: www.tf1.fr => tv.freewheel.SDK._instanceQueue['Context_1'].requestComplete({})
! to allow replacement on www.6play.fr
||7cbf2.v.fwmrm.net^$badfilter
tv.freewheel.sdk._instancequeue$important,replace=/(tv\.freewheel\.SDK\._instanceQueue\['Context_[\s\S]*?'\](?:\.[\w_]*){1,}\(\{)[\s\S]*\}[\r\n]?\)/\$1})/
!#endif

!#endif
